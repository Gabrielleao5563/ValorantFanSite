<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentes de Valorant</title>
    <link rel="stylesheet" href="../../css/selectagent.css">
</head>
<body>
    <header>
        <a href="../home.html" class="header">VALORANT</a>
    </header>
    <main>
        <div style="background-color: rgb(255, 70, 85); padding: 10px; text-align: center; position: relative;">
            <input id="pesquisa" type="text" class="input" placeholder="Pesquisar">
        </div>
        <div id="agents_div" style="background-color: rgb(255, 70, 85);" class="content flex">

            
            
        </div>
    </main>
</body>
<script>
var div = document.getElementById("agents_div");

fetch('agentes.json')
  .then(response => response.json())
  .then(data => {
    data.forEach(personagem => {
      var conteudoExistente = div.innerHTML;

      var novoConteudo = `
        <a name="${personagem.nome}" href="agente.html?nome=${personagem.nome}" class="agentdiv">
            <div class="agentimg">
                <img class="agentimage" src="../../images/${personagem.nome.toLowerCase()}.png">
            </div>
            <div class="agentname">
                <p class="agentnametext">${personagem.nome}</p>
            </div>
        </a>
      `;

      div.innerHTML=conteudoExistente + novoConteudo;
    });
  });


const pesquisaInput = document.getElementById('pesquisa');
const resultados = document.getElementsByClassName('agentdiv');

pesquisaInput.addEventListener('input', function() {
  const termoPesquisado = this.value.toLowerCase();

  for (let i = 0; i < resultados.length; i++) {
    const resultadoTexto = resultados[i].innerText.toLowerCase();
    if (resultadoTexto.includes(termoPesquisado)) {
      resultados[i].classList.remove('hide');
    } else {
      resultados[i].classList.add('hide');
    }
  }
});


</script>
</html>